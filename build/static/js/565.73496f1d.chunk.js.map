{"version":3,"file":"static/js/565.73496f1d.chunk.js","mappings":"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","sources":["components/Loading.jsx","pages/Search.jsx"],"sourcesContent":["import React from \"react\";\nimport LOGO from \"../assets/logo.png\";\nimport { AiOutlineLoading } from \"react-icons/ai\";\n\nfunction Loading() {\n  return (\n    <div className=\"w-full bg-silver/10 h-screen \">\n      <img src={LOGO} alt=\"\" className=\"w-[50%] opacity-75 mx-auto pt-28 \" />\n      <AiOutlineLoading className=\"text-light-gold text-5xl mx-auto mt-10 animate-Loading\" />\n    </div>\n  );\n}\n\nexport default Loading;\n","import React, { useEffect, useState } from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\nimport { useActionData, useLocation } from \"react-router-dom\";\n// React Router\nimport { useSearchParams } from \"react-router-dom\";\n// Components\nimport Products from \"../components/Products\";\nimport SearchInput from \"../components/SearchInput\";\nimport NORESULT from \"../assets/search-result.png\";\nimport Loading from \"../components/Loading\";\nimport { HiOutlineUsers } from \"react-icons/hi\";\nimport Users from \"../components/Users\";\nimport Back from \"../components/Back\";\nfunction Search() {\n  const [searchParams] = useSearchParams();\n  const [searchedPerfumes, setSearchedPerfumes] = useState(\"Loading\");\n  const [searchedUsers, setSearchedUsers] = useState(\"Loading\");\n  const searchedPerfumeValue = searchParams.get(\"perfume\");\n  const searchedUserValue = searchParams.get(\"user\");\n  const location = useLocation();\n  const morePerfumes = useActionData();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (searchedPerfumeValue !== null) {\n        const res = await fetch(\n          `https://arabico-strapi.onrender.com/api/perfumes?populate=*&filters[title][$containsi]=${searchedPerfumeValue}&pagination[limit]=10&filters[soon][$ne][1]=true`\n        );\n\n        const data = await res.json();\n        setSearchedPerfumes(data.data);\n   \n        setSearchedUsers([]);\n      } else {\n        const res = await fetch(\n          `https://arabico-strapi.onrender.com/api/arabicousers?populate=*&filters[$or][0][name][$containsi]=${searchedUserValue}&filters[$or][1][username][$containsi]=${searchedUserValue}&pagination[limit]=10`\n        );\n        const data = await res.json();\n     \n        setSearchedUsers(data.data);\n        setSearchedPerfumes([]);\n      }\n    };\n    fetchData();\n  }, [searchedPerfumeValue, searchedUserValue]);\n\n\n  return (\n    <div className=\"md:mt-[3.2rem]\">\n      <Back />\n      <SearchInput />\n      {location.search.includes(\"perfume\") && (\n        <div>\n          <p className=\"text-whiteness/60 mx-4 font-secondary text-lg text-center py-4\">\n            You are searching for :{\" \"}\n            <span className=\"text-light-gold/80\">{searchedPerfumeValue}</span>\n          </p>\n          {searchedPerfumes === \"Loading\" && <Loading />}\n          {searchedPerfumes.length !== 0 && searchedPerfumes !== \"Loading\" && (\n            <Products\n              data={\n                morePerfumes === undefined ? searchedPerfumes : morePerfumes\n              }\n            />\n          )}\n\n          {searchedPerfumes.length === 0 && (\n            <div className=\"relative w-full  h-[20rem] \">\n              <h5 className=\"text-center pt-16 font-secondary text-lg text-whiteness/60\">\n                Sorry,we couldn't find any results\n              </h5>\n              <img\n                src={NORESULT}\n                alt=\"\"\n                className=\"w-[7.5rem] contrast-0 absolute top-0 bottom-0 left-0 right-8 mx-auto my-auto\"\n              />\n              <BsSearch className=\"text-[5rem] text-whiteness  absolute top-[5rem] left-[4rem] right-0 bottom-0  mx-auto my-auto animate-noResultSearchAnimation \" />\n            </div>\n          )}\n        </div>\n      )}\n\n      {location.search.includes(\"user\") && (\n        <div>\n          <p className=\"text-whiteness/60 mx-4 font-secondary text-lg text-center py-4\">\n            You are searching for :{\" \"}\n            <span className=\"text-light-gold/80\">{searchedUserValue}</span>\n          </p>\n          {searchedUsers === \"Loading\" && <Loading />}\n          {searchedUsers.length !== 0 && searchedUsers !== \"Loading\" && (\n            <Users users={searchedUsers} />\n          )}\n\n          {searchedUsers.length === 0 && (\n            <div className=\"relative w-full  h-[20rem] \">\n              <h5 className=\"text-center pt-16 font-secondary text-lg text-whiteness/60\">\n                Sorry,we couldn't find any results\n              </h5>\n              <HiOutlineUsers className=\"text-[8rem] contrast-0 absolute top-0 bottom-0 left-0 right-8 mx-auto my-auto\" />\n              <BsSearch className=\"text-[5rem] text-whiteness  absolute top-[5rem] left-[4rem] right-0 bottom-0  mx-auto my-auto animate-noResultSearchAnimation \" />\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Search;\n// ACTION 1 = fetch more perfumes with limit + 10 (onClick)\nexport async function showMoreAction({ request }) {\n  const form = await request.formData();\n  const choice = form.get(\"choice\");\n  if (choice === \"perfumes\") {\n    const loadedPerfumes = form.get(\"loadedProducts\");\n    const res = await fetch(\n      `https://arabico-strapi.onrender.com/api/perfumes?populate=*&pagination[limit]=${parseInt(\n        loadedPerfumes\n      )}&filters[soon][$ne][1]=true`\n    );\n    const data = await res.json();\n    return data.data;\n  } else if (choice === \"users\") {\n    const loadedUsers = form.get(\"loadedUsers\");\n    const res = await fetch(\n      `https://arabico-strapi.onrender.com/api/arabicousers?populate=*&pagination[limit]=${parseInt(\n        loadedUsers\n      )}`\n    );\n    const data = await res.json();\n    return data.data;\n  }\n}\n"],"names":["_jsxs","className","children","_jsx","src","LOGO","alt","AiOutlineLoading","showMoreAction","_x","_showMoreAction","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","_ref2","request","form","choice","loadedPerfumes","res","data","loadedUsers","_res2","_data2","wrap","_context2","prev","next","formData","sent","get","fetch","concat","parseInt","json","abrupt","stop","_useSearchParams","useSearchParams","searchParams","_slicedToArray","_useState","useState","_useState2","searchedPerfumes","setSearchedPerfumes","_useState3","_useState4","searchedUsers","setSearchedUsers","searchedPerfumeValue","searchedUserValue","location","useLocation","morePerfumes","useActionData","useEffect","fetchData","_ref","_callee","_res","_data","_context","Back","SearchInput","search","includes","Loading","length","Products","undefined","NORESULT","BsSearch","Users","users","HiOutlineUsers"],"sourceRoot":""}